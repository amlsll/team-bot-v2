# ü§ñ Team Bot - Telegram Bot –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–º–ø–ª–µ–∫—Ç–æ–≤–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥

–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π Telegram-–±–æ—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥ —Å –≥–∏–±–∫–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ —Ä–∞–∑–º–µ—Ä–∞ –∏ —ç–ª–∞—Å—Ç–∏—á–Ω—ã–º –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤. –ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –≤–æ–ª–æ–Ω—Ç–µ—Ä—Å–∫–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤, —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–π, –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π –∏ –ª—é–±—ã—Ö –¥—Ä—É–≥–∏—Ö –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π, —Ç—Ä–µ–±—É—é—â–∏—Ö –∫–æ–º–∞–Ω–¥–Ω–æ–π —Ä–∞–±–æ—Ç—ã.

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ** –∫–∞–∂–¥—ã–µ 2 –¥–Ω—è –≤ 12:00
- **–î–≤—É—Ö—ç—Ç–∞–ø–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è** —Å –≤–≤–æ–¥–æ–º –§–ò–û –∏ —Å—Å—ã–ª–∫–∏ –Ω–∞ Telegram
- **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö** –ø–µ—Ä–µ–¥ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ–º –∫ –∫–æ–º–∞–Ω–¥–µ
- **–ë–∞–∑–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä –∫–æ–º–∞–Ω–¥—ã**: 5 —á–µ–ª–æ–≤–µ–∫
- **–≠–ª–∞—Å—Ç–∏—á–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ**: –¥–æ +2 –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (6-7 –≤ –∫–æ–º–∞–Ω–¥–µ)
- **–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —É—á–∞—Å—Ç–∏—è** —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –æ—Ç–∫–∞–∑–∞ –∏ –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –æ—á–µ—Ä–µ–¥—å
- **JSON-—Ö—Ä–∞–Ω–∏–ª–∏—â–µ** —Å –∞—Ç–æ–º–∞—Ä–Ω–æ–π –∑–∞–ø–∏—Å—å—é
- **–ê–¥–º–∏–Ω—Å–∫–∞—è –ø–∞–Ω–µ–ª—å** —Å —Å–∏—Å—Ç–µ–º–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- **Long polling** –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π webhook
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** —Å –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ –∫–æ–º–∞–Ω–¥
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** –∏–∑ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- **–°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞** –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
- **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞** —á–µ—Ä–µ–∑ GitHub Issues

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
cp env.sample .env
```

–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –≤ `.env`:
```bash
BOT_TOKEN=your_bot_token_here
ADMIN_CODE=your_admin_code_here
```

### 3. –ó–∞–ø—É—Å–∫

```bash
python -m app
```

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–æ—Ç–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –≤ GitHub:

```bash
# –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
python setup_auto_update.py

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é –¥–æ–±–∞–≤—å—Ç–µ –≤ .env:
AUTO_UPDATE_ENABLED=true
UPDATE_BRANCH=main
GITHUB_WEBHOOK_SECRET=–≤–∞—à_—Å–µ–∫—Ä–µ—Ç–Ω—ã–π_–∫–ª—é—á
```

üìö **–ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ**: [AUTO_UPDATE_GUIDE.md](AUTO_UPDATE_GUIDE.md)

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

### –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∞

1. **–ß–µ—Ä–µ–∑ –∫–æ–¥**: `/admin <ADMIN_CODE>`
2. **–ß–µ—Ä–µ–∑ –±–µ–ª—ã–π —Å–ø–∏—Å–æ–∫**: –¥–æ–±–∞–≤—å—Ç–µ —Å–≤–æ–π `tg_id` –≤ `ADMINS` –≤ `.env`

### –û—Å–Ω–æ–≤–Ω—ã–µ –∞–¥–º–∏–Ω—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã

- `/adm_match` ‚Äî –ø—Ä–æ–≤–µ—Å—Ç–∏ —Ä–∞—É–Ω–¥ –∫–æ–º–ø–ª–µ–∫—Ç–æ–≤–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥ –≤—Ä—É—á–Ω—É—é
- `/adm_stats` ‚Äî –ø–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É (–æ—á–µ—Ä–µ–¥—å, –∫–æ–º–∞–Ω–¥—ã)
- `/adm_rematch C-12` ‚Äî —Ä–∞—Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É
- `/adm_change –ò–º—è –§–∞–º–∏–ª–∏—è` ‚Äî –≤–µ—Ä–Ω—É—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ª–∏—Å—Ç –æ–∂–∏–¥–∞–Ω–∏—è
- `/adm_broadcast <—Ç–µ–∫—Å—Ç>` ‚Äî —Ä–∞—Å—Å—ã–ª–∫–∞ (–≤—ã–±–æ—Ä –∞—É–¥–∏—Ç–æ—Ä–∏–∏)
- `/adm_update_check` ‚Äî –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–∑ GitHub
- `/adm_update_apply` ‚Äî –ø—Ä–∏–º–µ–Ω–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- `/adm_restart` ‚Äî –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
- `/adm_status` ‚Äî —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã (uptime, –ø–∞–º—è—Ç—å, CPU)
- `/logout` ‚Äî —Å–Ω—è—Ç—å –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∞

## –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

1. `/start` ‚Üí –Ω–∞–∂–∞—Ç—å "–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è"
2. –í–≤–µ—Å—Ç–∏ –ò–º—è –§–∞–º–∏–ª–∏—è
3. –í–≤–µ—Å—Ç–∏ —Å—Å—ã–ª–∫—É –Ω–∞ Telegram
4. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –¥–∞–Ω–Ω—ã–µ ‚Üí –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ –∫–æ–º–∞–Ω–¥–µ
5. –ñ–¥–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã (–∫–∞–∂–¥—ã–µ 2 –¥–Ω—è –≤ 12:00)
6. `/status` ‚Äî –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –æ–∂–∏–¥–∞–Ω–∏—è
7. `/leave` ‚Äî –≤—ã–π—Ç–∏ –∏–∑ –æ—á–µ—Ä–µ–¥–∏/–∫–æ–º–∞–Ω–¥—ã

### –î–ª—è –∞–¥–º–∏–Ω–æ–≤

1. –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–∞–≤–∞: `/admin —Å–µ–∫—Ä–µ—Ç–Ω—ã–π_–∫–æ–¥`
2. –î–æ–∂–¥–∞—Ç—å—Å—è –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è –æ—á–µ—Ä–µ–¥–∏
3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∞—Ç—á–∏–Ω–≥: `/adm_match`
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç: `/adm_stats`

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
team-bot/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ __main__.py          # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞: python -m app
‚îÇ   ‚îú‚îÄ‚îÄ bot.py               # –°–æ–∑–¥–∞–Ω–∏–µ Bot/Dispatcher
‚îÇ   ‚îú‚îÄ‚îÄ types.py             # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ handlers/            # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user_start.py    # /start + –∫–Ω–æ–ø–∫–∞ "–í—Å—Ç—É–ø–∏—Ç—å"
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user_status.py   # /status
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user_leave.py    # /leave —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin_core.py    # /admin <code>, /logout, ACL
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin_match.py   # /adm_match
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin_stats.py   # /adm_stats
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin_rematch.py # /adm_rematch <team_id>
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ admin_broadcast.py # /adm_broadcast <—Ç–µ–∫—Å—Ç>
‚îÇ   ‚îî‚îÄ‚îÄ services/
‚îÇ       ‚îú‚îÄ‚îÄ storage.py       # JSON-—Ö—Ä–∞–Ω–∏–ª–∏—â–µ
‚îÇ       ‚îú‚îÄ‚îÄ matcher.py       # –õ–æ–≥–∏–∫–∞ –∫–æ–º–ø–ª–µ–∫—Ç–æ–≤–∞–Ω–∏—è
‚îÇ       ‚îú‚îÄ‚îÄ notify.py        # –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
‚îÇ       ‚îú‚îÄ‚îÄ acl.py           # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤
‚îÇ       ‚îî‚îÄ‚îÄ util.py          # –£—Ç–∏–ª–∏—Ç—ã
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îî‚îÄ‚îÄ test_matcher.py      # Unit-—Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ data.json                # –î–∞–Ω–Ω—ã–µ (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îú‚îÄ‚îÄ env.sample               # –ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–∫
‚îú‚îÄ‚îÄ requirements.txt         # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ README.md
```

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------|--------------|--------------|----------|
| `BOT_TOKEN` | ‚úÖ | - | –¢–æ–∫–µ–Ω –±–æ—Ç–∞ –æ—Ç @BotFather |
| `ADMIN_CODE` | ‚úÖ | - | –ö–æ–¥ –¥–ª—è –≤—ã–¥–∞—á–∏ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∞ |
| `ADMINS` | ‚ùå | - | –ë–µ–ª—ã–π —Å–ø–∏—Å–æ–∫ –∞–¥–º–∏–Ω–æ–≤ (tg_id —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é) |
| `TEAM_BASE` | ‚ùå | 5 | –ë–∞–∑–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä –∫–æ–º–∞–Ω–¥—ã |
| `ELASTIC_MAX` | ‚ùå | 2 | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–ø. —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ |
| `MOD_CHAT_ID` | ‚ùå | - | ID —á–∞—Ç–∞ –¥–ª—è —Ä–µ–ø–æ—Ä—Ç–æ–≤ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π |
| `USE_WEBHOOK` | ‚ùå | false | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å webhook –≤–º–µ—Å—Ç–æ polling |
| `WEBHOOK_URL` | ‚ùå | - | URL –¥–ª—è webhook |
| `PORT` | ‚ùå | 3000 | –ü–æ—Ä—Ç –¥–ª—è webhook —Å–µ—Ä–≤–µ—Ä–∞ |

## –õ–æ–≥–∏–∫–∞ –∫–æ–º–ø–ª–µ–∫—Ç–æ–≤–∞–Ω–∏—è

1. **–ë–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã**: —Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è –≥—Ä—É–ø–ø—ã –ø–æ `TEAM_BASE` —á–µ–ª–æ–≤–µ–∫ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 5)
2. **–≠–ª–∞—Å—Ç–∏—á–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ**: –æ—Å—Ç–∞—Ç–æ–∫ 1-2 —á–µ–ª–æ–≤–µ–∫–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ —É–∂–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
3. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**: –∫–æ–º–∞–Ω–¥–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª—å—à–µ `TEAM_BASE + ELASTIC_MAX` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 7)
4. **–û—Å—Ç–∞—Ç–æ–∫**: —É—á–∞—Å—Ç–Ω–∏–∫–∏, –Ω–µ –≤–æ—à–µ–¥—à–∏–µ –≤ –∫–æ–º–∞–Ω–¥—ã, –æ—Å—Ç–∞—é—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥–∏

### –ü—Ä–∏–º–µ—Ä—ã

- **10 —á–µ–ª–æ–≤–µ–∫** ‚Üí 2 –∫–æ–º–∞–Ω–¥—ã –ø–æ 5
- **11 —á–µ–ª–æ–≤–µ–∫** ‚Üí 2 –∫–æ–º–∞–Ω–¥—ã: 6 + 5
- **12 —á–µ–ª–æ–≤–µ–∫** ‚Üí 2 –∫–æ–º–∞–Ω–¥—ã –ø–æ 6
- **13 —á–µ–ª–æ–≤–µ–∫** ‚Üí 2 –∫–æ–º–∞–Ω–¥—ã –ø–æ 6 + 1 –æ—Å—Ç–∞–µ—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥–∏

## –ö–∞—Ä—Ç–æ—á–∫–∞ –∫–æ–º–∞–Ω–¥—ã

–ü—Ä–∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–∞–Ω–¥—ã —É—á–∞—Å—Ç–Ω–∏–∫–∏ –ø–æ–ª—É—á–∞—é—Ç –∫–∞—Ä—Ç–æ—á–∫—É:

```
–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º —Ç–µ–±—è —Å–æ –≤—Å—Ç—É–ø–ª–µ–Ω–∏–µ–º –≤ –∫–æ–º–∞–Ω–¥—É.

1. –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤, @ivan_ivanov (–º–æ–¥–µ—Ä–∞—Ç–æ—Ä)
2. –ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤, @petr_petrov
3. –ê–Ω–Ω–∞ –°–∏–¥–æ—Ä–æ–≤–∞, @anna_sid
4. –ï–ª–µ–Ω–∞ –ö–æ–∑–ª–æ–≤–∞, @elena_k
5. –ú–∏—Ö–∞–∏–ª –§–µ–¥–æ—Ä–æ–≤, @mikhail_f

–£—á–∞—Å—Ç–Ω–∏–∫ —Å —Ä–æ–ª—å—é –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–∞ –¥–æ–ª–∂–µ–Ω —Å–≤—è–∑–∞—Ç—å—Å—è —Å–æ –≤—Å–µ–º–∏ –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ –∏–∑ —Å–ø–∏—Å–∫–∞ –∏ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –≥—Ä—É–ø–ø–æ–≤–æ–π —á–∞—Ç –¥–æ 19:00 —Å–ª–µ–¥—É—é—â–µ–≥–æ –¥–Ω—è, —á—Ç–æ–±—ã –≤ –¥–∞–ª—å–Ω–µ–π—à–µ–º –ø–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É –Ω–∞ —É—á–∞—Å—Ç–∏–µ –≤ –∫–æ–Ω–∫—É—Ä—Å–µ.
```

–° –∫–Ω–æ–ø–∫–∞–º–∏:
- **"–Ø –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é —É—á–∞—Å—Ç–∏–µ"** ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É—á–∞—Å—Ç–∏—è –≤ –∫–æ–º–∞–Ω–¥–µ
- **"–û—Ç–∫–∞–∑—ã–≤–∞—é—Å—å –æ—Ç —É—á–∞—Å—Ç–∏—è"** ‚Äî –æ—Ç–∫–∞–∑ —Å –≤—ã–±–æ—Ä–æ–º: –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ –æ—á–µ—Ä–µ–¥—å –∏–ª–∏ –≤—ã–π—Ç–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤:

```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
pytest

# –¢–æ–ª—å–∫–æ —Ç–µ—Å—Ç—ã matcher
pytest tests/test_matcher.py -v

# –° –ø–æ–¥—Ä–æ–±–Ω—ã–º –≤—ã–≤–æ–¥–æ–º
pytest tests/ -v -s
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **–ê—Ç–æ–º–∞—Ä–Ω–∞—è –∑–∞–ø–∏—Å—å**: –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —á–µ—Ä–µ–∑ –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤**: –¥–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ (env + runtime)
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: graceful handling –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –±–æ—Ç–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–í–∞–ª–∏–¥–∞—Ü–∏—è**: –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–æ–≤ –∫–æ–º–∞–Ω–¥ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/adm_stats` –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–∂–∏–¥–∞—é—â–∏—Ö –≤ –æ—á–µ—Ä–µ–¥–∏
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–æ–º–∞–Ω–¥
- –°—Ä–µ–¥–Ω–∏–π —Ä–∞–∑–º–µ—Ä –∫–æ–º–∞–Ω–¥—ã
- –ü–µ—Ä–≤—ã–µ 10 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –æ—á–µ—Ä–µ–¥–∏

## –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–∏ —Ä–æ—Å—Ç–µ –Ω–∞–≥—Ä—É–∑–∫–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:
1. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ PostgreSQL/Redis –≤–º–µ—Å—Ç–æ JSON
2. –î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å webhook –≤–º–µ—Å—Ç–æ polling
4. –î–æ–±–∞–≤–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License